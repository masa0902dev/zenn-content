---
title: "研究室のためのGit,GitHub入門ハンズオン"
emoji: "🌟"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["研究", "git", "github", "入門"]
published: false # これは非公開. 今後も公開する予定はない.
---

# 0. はじめに
## これはなに？
非情報系において，研究でgit,githubを使い始めたい学生，教員の方への入門ハンズオンです．

研究でありそうなシチュエーションを通じてgit,githubを「使える」ようになることを目指します．手を動かす→git,githubの仕組みと考え方を解説する，という具体と抽象を行き来することで，使い方を自分で考えられる状態，自分で調べれば(ググれば)分かる状態になることを目指します．

## 本記事の対象読者
- **研究でgit,githubを使ってコード開発を効率化・堅牢化したい学生，教員**
- **外部研究者との共同研究を始めたい・効率化したい研究室**
- 大学からコードや論文のWeb公開を迫られて困っている研究室
- git,githubのダウンロードや初期設定が済んでいる人

ダウンロードや初期設定がまだの方は，こちらを参考にしてください．
https://zenn.dev/masa0902dev/articles/lab-git-github

✅ 本記事で得られるもの
- git,githubが「使える」ようになる
- 効率的・堅牢なコード開発，プロジェクト管理ができるようになる
- git,githubの仕組みと考え方（補助的に説明）
- 外部研究者との共同研究をGitHub上で行う方法

❌ 本記事で得られないもの
- rebase等の少し発展的な内容（次の記事で扱います）
- Github Organizationの導入方法と使い方 (次の記事で扱います)
- そもそもGit,Githubって何が嬉しいの？は割愛します．


:::details 本記事のモチベーション💡
先日，自分の所属する研究室へGit,Github,Organizationを導入しました．
導入しただけでは中々使ってくれませんから，メンバー全員が使える状態にするためにハンズオンを行うことにしました．本記事は，その際に使用した資料です．

※本研究室ではSpyder等のエディタを使っている方も多いため，VScode等のGUIに依存しない形(CLI)でのハンズオンとなっています（どんな環境でもできる方法，ということです）．

⬇️ 本研究室のGithub Organization (まだまだ整備中！)
https://github.com/isobe-lab

:::

## 知っておいてほしい用語
- CLI: ターミナル等でコマンドを打って使うもの．Command Line Interface.
- GUI: 画面上のボタンを押したりして使うもの．Graphical User Interface.
<br>
- ターミナル: コマンドを打ったりするところ．黒い背景のやつ．
- エディタ: コードを書いたりするところ．VScodeなど．
<br>
- ローカル: 自分のPC内．作業をするところ．
- リモート: ローカルの反対．ローカルの内容をアップロードするところ，ローカルへ反映する最新状態があるところ．ここではGithubのことと思ってOK．



# 1. ハンズオン: 4つの例を通じて
研究でありそうなシチュエーション4つを通じてgit,githubを「使える」ようになりましょう．
各シチュエーションで「**手を動かす**→**git,githubの仕組みと考え方**を解説する」という流れを繰り返します．手を動かすセクションには補足もありますが，半分くらいは読み飛ばしても大丈夫です．

A. 個人のコード,プログラム（最もシンプルにgit,githubを使ってみる）
B. 週報,研究報告（gitのブランチ，githubのPRを使う）
C. 論文,論文査読（PRレビューのサイクルを回す）
D. 共同研究,チーム開発（チーム開発の基本を習得する）

## A. 個人のコード, プログラム
この例では「ローカルにコードはあるけど，gitもgithubも使っていない状態」から，コードをgit管理し，github連携します．その後，コードを少し編集して，git,githubに反映してみましょう．

目標: gitのadd,commit,push,statusなどのコマンドが使えるようになる．

### 手を動かす
1. **githubにリポジトリを作る**

[やり方]
まず，githubの個人ページをURL:`https://github.com/<user-id>`で開く(ブラウザにお気に入り登録しておきましょう)．
上の方にあるRepositoriesタブを押し，右上の緑色「New」ボタンをクリック．
`Repository name`を好きに入力し，PublicからPrivateに変更して，今回は`Add a README file`, `Add .gitignore`, `Choose a license`はオフのままで，緑色の「Create repository」ボタンをクリック．

[解説]
リポジトリ名は，`lab-sample`のように小文字のハイフン`-`繋ぎにするのがオススメです．理由は2つあり，リポジトリ名がそのままURL名になるのでURLの標準に従う方が分かりやすいから・そうしている人や企業が多いから，です（**特に理由がないならデファクトスタンダードに従いましょう**）．
PublicとPrivateについて: Publicにすると誰でも見れる，Privateにすると自分(Organizationならメンバー)のみが見れる．研究においては基本Privateで，データ公開やソフトウェア公開(OSS)の際のみPublicにするのが良いでしょう．

:::details 今回はオフにしたオプションについて
今回は，ローカルに既にあるファイルをGithubリポジトリに入れることが目的です．ですので，一旦Githubリポジトリは中身が何もない状態にした方が単純で都合がよいのでそうしたに過ぎません（慣れたら自分でやってみてください）．
`Add a README file`: 「このリポジトリを使う人はまずこれを読んでね」というドキュメントを追加するオプション．Githubは，README.mdという名前のファイルなら開かずとも表示してくれるのでドキュメントにピッタリということです．
`Add .gitignore`: 「こういうファイルやディレクトリはGit管理しない(≒Githubにアップロードしない)」というルールを定めるファイルを追加するオプション．
`Choose a license`: リポジトリ内容のライセンスを指定できるオプション．MIT, Apache, GNUなどのライセンスをつけられる．研究においてはMITのようなオープンソースライセンスを使用することが一般的かと思います．
:::

2. **リポジトリをローカルの対象ディレクトリに登録するための文字列をコピー**

[やり方]
Quick setupの`HTTPS | SSH`のような部分で`SSH`をクリックして，右隣の文字列をコピーする．
もしSSH設定をしていない方は下記の記事で行ってください．
https://zenn.dev/masa0902dev/articles/lab-git-github

[補足]
まず，HTTPSとSSHのどちらでローカルとリモートの通信を行うかを決めています．特に理由がなければ安全性の高いSSHを選びましょう（あなたが研究室の計算機サーバに接続する際も，SSHを使っているはずです）．

:::details SSHを使う際に気をつけること
コピーした文字列は，リポジトリを識別する一意な文字列です．これは漏洩?しても全く問題ありません．
なぜなら，ここでのSSH接続はこの文字列をパスワードとして行うようなものではなく，リモートが持つ公開鍵とローカルがもつ秘密鍵を用いて行われるからです．つまり，SSHにおいて漏洩してはいけないのはローカルにある秘密鍵です.
ちなみにSSHはSecure SHellの略で，公開鍵認証ではなくパスワードによる認証も可能です．基本的には，安全性が高いとされる公開鍵認証を使用しましょう．
:::

3. **ローカルの対象ディレクトリをgit初期化する**

[やり方]
ターミナルやエディタ等で，対象ディレクトリを開く．
```bash
git init
```
`Initialized empty Git repository in ...`のように表示されればOK．

[補足]
git init: カレントディレクトリをgit管理の対象にする初期化コマンド．すでにgit管理されているディレクトリで行っても[何も問題はない](https://git-scm.com/docs/git-init)のでご安心を．
もし誤ったディレクトリでgit initしてしまった場合，生成される`.git`ディレクトリを削除すればOKです．そのディレクトリは基本的に`.git`ディレクトリ内で履歴が管理されているためです．

4. **対象リポジトリの情報をローカルの対象ディレクトリに登録する**

[やり方]
```bash
git remote add origin {先ほどコピーした文字列}
git remote -v
```
以下のように表示されればOK．
```bash
origin  git@github.com:{user-id}/{repo-name}.git (fetch)
origin  git@github.com:{user-id}/{repo-name}.git (push)
```

[補足]
`git remote add {NAME} {XXX}`で，リモートをNAMEという名前でローカルに登録している．NAMEがoriginである必要はないが，そのディレクトリ(プロジェクト)で登録するリモートが1つだけなら，originという名前にすることが多い．
`git remote -v`は，ローカルに登録されているリモートの一覧を表示している．

5. **ローカルの内容をリモート（対象リポジトリ）に送る前の確認！**

[やり方]
ローカルのファイルに，機密事項がないか確認する．
その機密事項をGit管理から除外・Githubにアップロードしないために，ローカルでトップディレクトリに`.gitignore`ファイルを作成し，除外するファイル名を書き込む．

[補足]
機密事項は，Privateリポジトリであってもアップロードするべきではないし，Git管理するべきではない．「Private＝＝あらゆる意味で完全に安全」という訳ではない．

5. **(あなたのためのちょっとした工夫)**

[やり方]
ローカルの内容をリモートに送る前に，ちょっとした工夫をします．今はこの意味がわからずとも問題ありません．
```bash
touch README.md
git add README.md
git commit -m "initial commit"
git push origin main
```

[補足]
何をしている？→このプロジェクトにおけるGitの最初の履歴を，ローカルのGit管理されていなかった既存ファイル群ではないものにしている．一番最初のコミットは後から編集するのが面倒なので，最初のコミット(initial commit)を「どうでも良いような小さな内容」にすることで，それを回避している．

6. **ローカルの内容をリモートに送る**

[やり方]
```bash
git add -A
git commit -m "既存コードをGit管理"
git push origin main
```
下記のような表示があればpushできている．
```bash
...
To github.com:masa0902dev/lab-tutorial.git
 * [new branch]      main -> main
```
実際にGithubを確認して，ファイルが追加されていればOKです！

[補足]
`git add`: 感覚的には，ファイルを**Gitで仮保存している（詳細は後述）**．`git add main.py`のようにファイルを指定して使える．ここでは`-A`オプションでプロジェクト内の全ファイルをGitで仮保存している．
`git commit`: addで仮保存したファイルたちを「コミット」という単位で保存する（addしていないファイルはコミットされない）．ここで初めて「履歴」が残るので，コードをある程度書いたら add -> commit を習慣づけよう．ここでは`-m`オプションによって「コミットメッセージ」という各コミットに付けられるメッセージを直書きしている．（実際は`-m`オプションなしで使うことが多いが，デフォルト設定では初心者は困ってしまうかも[…気になる人はやってみましょう](https://qiita.com/aiandrox/items/ecc2b872841126db5460)）
`git push`: ローカルで行ったコミットたちをリモートに送る（詳細は後述）．


7. **コードを編集してステータスを確認**

[やり方]
上記で既存コードをGit,Github管理することができました．次に，先ほどのプロジェクトで適当なファイルを編集してから，下記コマンドを打ってみましょう．
```bash
git status
```
下記のように，編集したファイルが"not statged for commit"にあるはず．
```bash
On branch main
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   main.py
```

[補足]
`git status`: 各ファイルがGit管理の「どの階層にいるのか」を表示する．**ファイルがいる階層は，addする前後で変わる．今はaddする前の状態（詳細は後述）**．


8. **add,commitしてステータスを確認**

[やり方]
```bash
git add {filename}
git status
```
下記のように，編集したファイルが"to be committed"にあるはず．
```bash
On branch main
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   a.py
```
```bash
git commit {filename}
git status
```
コミット後で，他に編集したものがなけば，下記のようになるはず．
```bash
On branch main
nothing to commit, working tree clean
```

[補足]
編集したファイルは**階層的にGitで記録されており，「addされていない内容・addされた内容・コミットされて履歴になった内容」の3階層がある（詳細は後述）**．

9. **もう1つコミットしてプッシュする**

[やり方]
もう1つ編集内容をコミットしてみよう．その後`git log`でコミット履歴を表示すると，下記のように3つのコミット履歴が表示されるはず．
```bash
commit 8b3f3d0d2f5de98505d28f0ff34ae268fcf6b495 (HEAD -> main)
Author: masa0902dev <masa0902dev@gmail.com>
Date:   Tue May 27 00:24:29 2025 +0900

    2つ目の編集

commit ee60190c0042269697f16cba7af07ec145624b70
Author: masa0902dev <masa0902dev@gmail.com>
Date:   Tue May 27 00:24:08 2025 +0900

    1つ目の編集

commit 52acb49a26b349ca6b252ed4fa91a84e4e2f1979 (origin/main)
Author: masa0902dev <masa0902dev@gmail.com>
Date:   Tue May 27 00:12:00 2025 +0900

    initial commit

```
最後にpushして，Githubで実際に編集内容が更新されていればOK！

[補足]
最初は"initial commit"で1つコミットしてプッシュしたが，今回は2つコミットを作ってプッシュしてみた．コミットはいくつ作ってもよい．

### Git,Githubの仕組みと考え方
手を動かすセクションで「既存コードをGit,Github管理・ファイルを編集してadd,commit,push」を実践しました．次は，これに関連するGit,Githubの仕組みと考え方に軽く触れましょう．
道具を有効に使うには，その意義を理解している必要があります．

Ⅰ. **ファイルは階層的に管理される**
分かりやすい図と説明 -> [Understanding the Staging Area in Git’s Workflow - TecAdmin](https://tecadmin.net/git-staging-area-explained/#google_vignette)

Git管理されるファイルは3つの階層で管理されます．Working directory, Staging area, Local repositoryの3つです．
最初，つまりaddする前はWorking directoryにあり，その名の通り作業中の内容です．次に，作業内容をGitで記録するためにcommitをしますが，「commitする範囲を指定する」ために，commitしたい範囲をaddしてStaging areaへ上げます．その後にcommitをすると，Staging areaにある内容がcommitという単位で記録されます．この記録はLocal repository，つまりリモート(Github)ではなくローカル(あなたのマシン)のリポジトリにあり，pushをすることで，このローカルのリポジトリをリモートに反映できます．

- Q. なぜcommitする前にaddする必要がある？
- A. commitする範囲を指定するため．

Ⅱ. **複数のcommitを作る意義は何か**
ここで，「なんでわざわざ部分的にaddしてcommitしないといけないんだ？作業内容を全てまとめてcommitできた方が早いじゃないか．」という疑問が浮かびます．

その意義は"バージョン管理(VC, Version Control)"にあります．そもそもGitはVCS（Version Control System）であり，それを使うモチベーションはVCにあります．
つまり，作業内容を分割して複数のcommitを作る意義は，「このコミットAではこういう変更をした」「このコミットBではこういう修正をした」という適切なサイズ・まとまりの履歴を作っていくことで，あとから変更・修正しやすくすること，変更の意図をチームメンバーが参照できるようにすることです．

そのコミットにおける変更の意図や背景を伝えるものが，コミットメッセージです．コミットメッセージでは，あなたのチームメンバー（或いは1週間後のあなた）のために，変更内容を簡潔にまとめて，変更の意図や背景を書きましょう．書き方の一例として，こちらの記事が参考になります -> [僕が考える最強のコミットメッセージの書き方 - Qiita](https://qiita.com/konatsu_p/items/dfe199ebe3a7d2010b3e#comments)（チームによってやり方は異なるので，確認しましょう．）


Ⅲ. **作業スペースと本番スペースを分離する**
上記では，commitによって作業内容を分割する意義を説明しました．では次に，作業スペース(作業中)と"本番スペース"を分離することを考えます．ここでは"本番スペース"を，実際に使用されるコードの状態とします（プロダクション，本番環境）．
作業スペースと本番スペースを分離すると，本番スペースに一切影響を与えずに作業をし，作業スペースに問題がないことを確認した上で本番スペースに反映させることができます．ここでは，作業スペースを作る方法・作業スペースに問題がないことを確認する方法を説明します．

まず，作業スペースを作るためには，Gitの"ブランチ(branch)"を使います．
実は，ローカルで作業するときは本来，ブランチ(branch)というものを作って内容を分岐させます．上記のセクションでは分かりやすさ・手軽さのためにブランチを切らず直接mainブランチで作業しましたが，本来は，元々のmainブランチから作業用のブランチ(例えばadd-featureブランチ)を作って分岐させ，その中で作業をするのです．commitによってローカルリポジトリにadd-featureブランチのコミット履歴を作り，pushによってそのブランチのコミット履歴をリモートリポジトリに反映するのです．リモートリポジトリに反映されるのは，あくまで，add-featureブランチ(作業スペース)の履歴です．これにより，mainブランチ(本番スペース)に一切影響を与えずに(==安全に)，作業内容をリモートリポジトリに反映することができました．

次に，作業スペースに問題がないことを確認するには，GitHubの"PR (pull request)"を使います．
今は，add-featureブランチ(作業スペース)がリモートリポジトリに反映されている状態です．ここで，GitHub上でPRを作ってメンバーに"コードレビュー (review)"を依頼することで，作業内容にバグがないこと・意図通りの変更ができていることを確認します．PRがレビュアーにアクセプトされた後，PRをmainブランチに反映(mergeという操作)することで，add-featureブランチでの作業内容を本番環境に反映することができます．

ここでは，Gitでの"ブランチを切る"という考え方・Githubでの"PR (pull request)"，という概念に触れました．**では，次のセクションで実際に使ってみましょう！**


## B. 週報, 研究報告
私が所属する研究室では，週報,研究報告を書いてゼミでそれを見せながら進捗報告・議論することが多いため，このシチュエーションを考えます．
ローカルでブランチを切って週報を作成し，GithubでPRを出して担当教員などにレビューを依頼し，最後にmainブランチにマージしてみましょう．（ここではGithub Organizationの運用を想定していますが，個人レポジトリでも可能です．）

目標: ブランチを切って作業できる．PRを出してレビューを依頼し，アクセプト後にマージすることができる．

### やってみる
1. **下準備**

[やり方]
このハンズオンを行うためのレポジトリを作ります．内容的にPrivateにし，今度はREADMEファイルをつけるオプションをオンにしてみましょう．
ローカルで作業ディレクトリに移動してから以下のコマンド実行．
```bash
git init
git remote add origin {Githubからコピーした文字列}
git pull origin main
```

[補足]
`init, remoteのコマンド`: リモートとローカルを連携するための準備でしたね．
`git pull origin main`: 今回は，リポジトリ作成時にREADMEファイルをつけました．なので，リモートにはREADMEファイルがありますがローカルにはありません．なので，ローカルにリモートの最新状態を持ってくる(pull,引っ張ってくる)ために実行しています．多くの場合`git pull origin {remote-branch}`のように使用し，リモートにあるremote-branchを，ローカルの現在いるブランチに反映します．使用場面としては，ローカルmainブランチにリモートmainブランチの最新状態を反映することが多いです．

2. **ローカルでブランチを切って作業**

[やり方]
ローカルに，これから作業するブランチを作ります．
```bash
git switch -c {new-branch}
```
作業ブランチで週報ファイルを作成，中身を書いたら下記コマンドでcommit,pushします．
```bash
git add {your-file-path}
git commit -m "05/26: NECコードを作成"
git push origin main
```

[補足]
`git switch`: ブランチの移動に使用するコマンド．`-c`オプションによって，現在のブランチから新しいブランチ{new-branch}を切りつつ，新しいブランチに移動します．

週報ということで，以下のようなブランチ・ディレクトリ構成にすると良いのではないでしょうか．
```bash
branch: your-name
directory: /{your-name}/{year}/{MM.md}
```
ブランチも自分の週報を入れるディレクトリも自分の名前にし，年とかで分けて，月でファイルを作る（5月なら05.mdとか）．
<!-- TODO: 記事用のレポジトリを作る． -->

3. **GitHubでPRを作る**

[やり方]
pushしたGithubのリポジトリをブラウザで開くと，緑色のボタン「Compare & pull request」クリック．

そこで，PRのタイトル・説明を記入し，右側の「Assignee」欄にレビューを依頼する人を指定します（指導教員など）．
最後に，画面下の緑色ボタン「Create pull request」をクリックして，PR作成．

[補足]
PRのタイトルは，コミットメッセージと同様に作業内容が分かりやすいものにしましょう．
Assigneeでreviewer(レビューする人)を決めます（あなたはrevieweeになります）．

4. **編集内容をGithub上でチェックする**

[やり方]
PRページの"File changed"または""

[補足]

5. **レビュアーからアクセプトをもらったらマージ**

[やり方]
アクセプトされたら，GithubのPRページの画面下にある緑色ボタンをクリックしてmainブランチへマージする（マージ元ブランチ・マージ先ブランチが正しいか確認すること！）．

[補足]
レビュアーがあなたのPRをレビューし，アクセプト(Github上でレビュー可能)されたら，作業ブランチを本番ブランチ(mainブランチ)にマージ(merge)します．
マージはレビュイーが行うことが多いですが，レビュアーが行うこともできます（担当教員がアクセプトしたら教員がそのままマージ，など）．

5. **もしリジェクトを受けたら**

[やり方]

[補足]




### Git,Githubの仕組みと考え方




## C. 論文, 論文査読
WIP🚧 口頭説明

## D. 共同研究, チーム開発


### やってみる


### Git,Githubの仕組みと考え方



# ユースケース別
## 既存プロジェクトに参加する
## コードもプロジェクトも0から開始する
## コードのバグをとりあえず元に戻したい！
## コード開発スピードを上げたい！



# Git,GitHubの仕組みと考え方
## gitの階層的な履歴管理
## ローカルとリモートの責務


# やってはいけないこと
これをやるとヤバイので，基本的にはやらないでね！という内容です．
ヤバイとは？ → あなたの時間が大きく無駄になる可能性がある・チームにとんでもない迷惑をかける可能性がある

## ChatGPTが提示したコマンド鵜呑み
AIが提示するコマンドは「あなたの目的自体は達成できるけど，副作用がヤバイ」ものもあります．絶対に，知らないコマンドは一度ググりましょう．

そもそも，自分がなにをやっているか分かっていない状態は極めて危険です．コンピュータが内部でなにをやっているのかまで知る必要は全くありませんが，分からないことは一度ググりましょう．ソフトウェアエンジニアリング関連なら，大体Web上に記事があるはずです．

##




# Tips集
git,githubに関連するTipsや，本記事で触れなかった基本的なコマンドを紹介します．

## その他のよく使うコマンド


## コマンド入力を楽にしよう
エイリアス

## 必要に応じてGUIも使おう
GUIでgit操作ができる`Git Client`がたくさんあります．下記はその1例の紹介記事です．
https://zenn.dev/lovegraph/articles/c061754831f76a

VScodeなら標準でgitのGUIがあり，git,github関連の拡張機能もたくさんあるので純粋に便利です．慣れるまではGUIをメインで使うのも良いかもしれません．
慣れるとCLIの方が早いし使いやすいのですが，操作内容によってはGUIの方が便利なものもあります（同一ファイル内の変更を部分的にaddする場合など）．
https://zenn.dev/praha/articles/db1c4bcc4ef48c
https://www.gaji.jp/blog/2022/11/09/12120/

## 慣れてきたらもっと楽をしよう
CLIで

https://qiita.com/to3izo/items/c52d3d6ddfe16f4db803
https://zenn.dev/nobitel/articles/9fa696cfb6c3bd
https://zenn.dev/mozumasu/articles/mozumasu-lazy-git


# おわりに
